<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Генератор договора аренды</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
</head>
<body>
    <div class="container">
        <!-- Шапка -->
        <header class="header">
            <div class="logo">
                <i class="fas fa-file-contract"></i>
                <h1>Генератор договора аренды</h1>
            </div>
            <p class="subtitle">Заполните данные для автоматического формирования договора</p>
        </header>

        <!-- Прогресс-бар -->
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-steps">
                <div class="step active" data-step="1">
                    <div class="step-circle">1</div>
                    <div class="step-label">Ввод данных</div>
                </div>
                <div class="step" data-step="2">
                    <div class="step-circle">2</div>
                    <div class="step-label">Договор</div>
                </div>
            </div>
        </div>

        <!-- Шаг 1: Ввод данных -->
        <section id="step1" class="step active">
            <div class="step-header">
                <h2><i class="fas fa-edit"></i> Заполнение данных</h2>
                <p>Введите информацию для формирования договора</p>
            </div>

            <div class="data-container">
                <!-- Арендодатель -->
                <div class="data-section">
                    <div class="section-title">
                        <i class="fas fa-user-tie"></i> Арендодатель (собственник)
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="landlordName">ФИО полностью *</label>
                            <input type="text" id="landlordName" placeholder="Иванов Иван Иванович">
                        </div>
                        <div class="form-group">
                            <label for="landlordPassport">Паспорт (серия номер) *</label>
                            <input type="text" id="landlordPassport" placeholder="4512 123456">
                        </div>
                        <div class="form-group">
                            <label for="landlordIssuedBy">Кем выдан *</label>
                            <textarea id="landlordIssuedBy" rows="2" placeholder="ОВД района..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="landlordIssueDate">Дата выдачи *</label>
                            <input type="date" id="landlordIssueDate">
                        </div>
                        <div class="form-group">
                            <label for="landlordDivisionCode">Код подразделения *</label>
                            <input type="text" id="landlordDivisionCode" placeholder="770-001">
                        </div>
                        <div class="form-group full-width">
                            <label for="landlordRegistration">Адрес регистрации *</label>
                            <textarea id="landlordRegistration" rows="2" placeholder="г. Москва, ул. Примерная, д. 1, кв. 1"></textarea>
                        </div>
                    </div>
                </div>

                <!-- Арендатор -->
                <div class="data-section">
                    <div class="section-title">
                        <i class="fas fa-user"></i> Арендатор
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="tenantName">ФИО полностью *</label>
                            <input type="text" id="tenantName" placeholder="Петров Петр Петрович">
                        </div>
                        <div class="form-group">
                            <label for="tenantPassport">Паспорт (серия номер) *</label>
                            <input type="text" id="tenantPassport" placeholder="4512 654321">
                        </div>
                        <div class="form-group">
                            <label for="tenantIssuedBy">Кем выдан *</label>
                            <textarea id="tenantIssuedBy" rows="2"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="tenantIssueDate">Дата выдачи *</label>
                            <input type="date" id="tenantIssueDate">
                        </div>
                        <div class="form-group">
                            <label for="tenantDivisionCode">Код подразделения *</label>
                            <input type="text" id="tenantDivisionCode" placeholder="770-002">
                        </div>
                        <div class="form-group full-width">
                            <label for="tenantRegistration">Адрес регистрации *</label>
                            <textarea id="tenantRegistration" rows="2"></textarea>
                        </div>
                    </div>
                </div>

                <!-- Данные квартиры -->
                <div class="data-section">
                    <div class="section-title">
                        <i class="fas fa-home"></i> Данные квартиры
                    </div>
                    <div class="form-grid">
                        <div class="form-group full-width">
                            <label for="apartmentAddress">Адрес квартиры *</label>
                            <input type="text" id="apartmentAddress" value="г. Москва, Волгоградский проспект дом 164 корп. 3, кв. 22">
                        </div>
                        <div class="form-group">
                            <label for="apartmentArea">Площадь (кв.м) *</label>
                            <input type="number" id="apartmentArea" value="58">
                        </div>
                        <div class="form-group">
                            <label for="roomsCount">Количество комнат *</label>
                            <input type="number" id="roomsCount" value="3">
                        </div>
                        <div class="form-group full-width">
                            <label for="basisDocument">Основание собственности *</label>
                            <input type="text" id="basisDocument" value="Наследство по закону">
                        </div>
                    </div>
                </div>

                <!-- Условия аренды -->
                <div class="data-section">
                    <div class="section-title">
                        <i class="fas fa-file-contract"></i> Условия аренды
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="rentAmount">Сумма аренды (руб/мес) *</label>
                            <input type="number" id="rentAmount" value="47000">
                        </div>
                        <div class="form-group">
                            <label for="depositAmount">Депозит (руб) *</label>
                            <input type="number" id="depositAmount" value="47000">
                        </div>
                        <div class="form-group">
                            <label for="contractStart">Начало аренды *</label>
                            <input type="date" id="contractStart">
                        </div>
                        <div class="form-group">
                            <label for="contractEnd">Окончание аренды *</label>
                            <input type="date" id="contractEnd">
                        </div>
                    </div>
                </div>

                <!-- Показания счетчиков -->
                <div class="data-section">
                    <div class="section-title">
                        <i class="fas fa-tachometer-alt"></i> Показания счетчиков
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="electricityCounter">Электричество *</label>
                            <input type="text" id="electricityCounter" placeholder="12345" value="12345">
                        </div>
                        <div class="form-group">
                            <label for="hotWaterCounter">Горячая вода *</label>
                            <input type="text" id="hotWaterCounter" placeholder="678" value="678">
                        </div>
                        <div class="form-group">
                            <label for="coldWaterCounter">Холодная вода *</label>
                            <input type="text" id="coldWaterCounter" placeholder="890" value="890">
                        </div>
                    </div>
                </div>

                <!-- Проживающие -->
                <div class="data-section">
                    <div class="section-title">
                        <i class="fas fa-users"></i> Проживающие лица
                    </div>
                    <div id="residentsList">
                        <!-- Список будет заполняться динамически -->
                    </div>
                    <button type="button" class="btn-secondary" onclick="addResident()">
                        <i class="fas fa-plus"></i> Добавить проживающего
                    </button>
                </div>
            </div>

            <div class="step-actions">
                <button class="btn-primary" onclick="generateContract()">
                    <i class="fas fa-file-contract"></i> Сформировать договор
                </button>
            </div>
        </section>

        <!-- Шаг 2: Договор -->
        <section id="step2" class="step">
            <div class="step-header">
                <h2><i class="fas fa-file-alt"></i> Договор аренды</h2>
                <p>Проверьте сформированный договор перед скачиванием</p>
            </div>

            <div class="contract-container">
                <div class="contract-toolbar">
                    <button class="btn-secondary" onclick="printContract()">
                        <i class="fas fa-print"></i> Печать
                    </button>
                    <button class="btn-primary" onclick="downloadPDF()">
                        <i class="fas fa-download"></i> Скачать PDF
                    </button>
                    <button class="btn-secondary" onclick="goToStep(1)">
                        <i class="fas fa-edit"></i> Редактировать
                    </button>
                </div>
                <div class="contract-preview" id="contractPreview">
                    <!-- Договор будет вставлен здесь -->
                </div>
            </div>
        </section>
    </div>

    <!-- Модальное окно загрузки -->
    <div id="loadingModal" class="modal">
        <div class="modal-content">
            <div class="spinner"></div>
            <h3 id="loadingText">Формируем договор...</h3>
        </div>
    </div>

    <!-- Подключаем библиотеки -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <!-- Основной скрипт -->
    <script src="script.js"></script>
</body>
</html>